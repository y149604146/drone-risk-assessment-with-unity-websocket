## Senario
一个无人机从远处飞过来，没有进入防范区，只是慢慢接近，再进入击毙区内之前又飞远了，针对这个无人机的风险值计算，需要结合无人机的行为特征、距离变化，以及防范区、击毙区的范围来设计，核心是让风险值和无人机的距离、行为趋势强相关：

## Design 
#### 1. 先定义基础的区域与距离参数
1. 设定防范区的边界距离为D1（无人机距离防护目标的距离，小于等于 D1 时进入防范区）
2. 设定击毙区的边界距离为D2（D2 < D1，无人机距离防护目标的距离小于等于 D2 时进入击毙区）
3. 无人机实时距离防护目标的距离为d(t)，t 为时间 

#### 2. 风险值的计算逻辑风险值R(t)的范围可以设定为 0-100，0 代表无风险，100 代表最高风险
1. 当d(t) > D1时：无人机在防范区外，风险值和距离成反比，距离越近风险越高，同时需要结合无人机的移动趋势（靠近 / 远离）
    1.1 先计算基础距离风险：
    R_base = 100 * (D1 - d(t)) / (D1 - D2)，如果d(t) > D1，则R_base为 0 到 100 之间的数值，距离越近数值越高
    1.2 再结合移动趋势修正：
如果无人机在靠近（d (t) 的变化率 < 0，距离在减小）：风险值修正为R(t) = R_base * 1.2（最高不超过 100）
如果无人机在远离（d (t) 的变化率 > 0，距离在增大）：风险值修正为R(t) = R_base * 0.8（最低不低于 0）
当D2 < d(t) ≤ D1时：无人机在防范区内，未进入击毙区，风险值为固定的中高值，同时结合移动趋势
    1.3 基础风险值设为 70，再根据趋势修正：靠近则变为 84，远离则变为 56
当d(t) ≤ D2时：无人机在击毙区，风险值直接设为 100
#### 3. 示例, 如: 设定 D1=1000 米，D2=200 米
1. 无人机从 1500 米飞过来，距离从 1500 降到 800 米（始终在 D1 外）：
当距离为 1500 米时，R_base=0，风险值为 0
当距离为 800 米时，R_base=100*(1000-800)/(1000-200)=25，如果此时无人机还在靠近，风险值为 30；如果此时开始飞远，风险值为 20
2. 当无人机开始飞远，距离从 800 米回到 1500 米，风险值会从 20 逐渐降低回 0
你可以根据实际的防护需求，调整 D1、D2 的数值，或者调整趋势修正的比例，来适配不同的防护等级。